---
layout: post
title: grep
categories: linux
---

grep


*   [实战](#inPractice)
*   [wiki](#wiki)

<h2 id="inPractice">实战</h2>

### 与、或、非###
*   or

        grep -e a -e b filename
        egrep 'a|b' filename

*   and

        grep a filename | grep b
        grep 'a.*b' filename

*   not

        grep -v a filename

### 其他###

*   -C2　    匹配的上下两行
*   -A2      匹配的之后(after)两行
*   -B2      匹配的之前(before)两行
*   --color=always  高亮显示
*   -n　--line-number   行号　    　
*   -H　--with-filename　文件名
*   -c　--count   只显示数量
*   .　　　　　除了换行符以外的任意字符
*   *　　　　　0或多个
*   \\{2,5\\} 表示范围，因为shell中\{\}又特殊含义，所以需要转义
*   \"        "需要转义

## wiki　　

|操作类型|例子|描述|
|-------|----|----|
|精确匹配的字符|a A y 6 % @|字母，数字和许多特殊的字符都可以精确匹配|
| |\$ \^ \+ \\ \?|转义一些特殊的字符|
| |\n \t \r|换行、制表、返回|
|锚和宏|^|以什么开始|
| |$|以什么结尾|
|group其中任一字符|[aAeEiou]|任一字符|
|　|[^aAeiou]|任一非..字符|
| |[a-fA-F0-9]|任一的16进制字符|
| |.|除了换行符以外的任意字符|
|按之前的元素进行计数|+|一个或者更多(仅仅试用于egrep)|
| |\*|0或者更多|
| |?|0或者１|
|或|\||或者|
|分组|()|分组计数，并保存在变量中(仅仅试用于egrep)|

下边的对于grep,egrep,fgrep都适用

|选项|描述|
|---|---|
|-i|忽略大小写|
|-o|仅输出match的行|
|-v|仅输出不满足的行|
|-c|仅输出满足的行数|
|-L|仅输出满足的文件名|
|-n|输出的时候同时输出行数|
|-H|显示文件名|
|-r|递归|

使用`ag`在源代码或数据文件里检索(比grep -r更好)

    apt-get install silversearcher-ag

参考

<http://www.wellho.net/regex/grep.html>
　　　　

<http://www.shellcn.net/awk/grep_egrep_sed_awk_perl_vim_js.html>
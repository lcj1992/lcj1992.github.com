<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="baidu-site-verification" content="vuaTJrjFLn" />
    <meta name="keywords" content="foolchild,linux,java,技术,互联网" />
    <meta name="description" content="技术博客，记录foolchild技术道路上成长的点滴" />
    <title> 通过tcpdump学习网络协议  </title>
    <link rel="stylesheet" href="/css/default.css" type="text/css"/>
    <link rel="stylesheet" href="/css/small.css" type="text/css" media="(max-width: 720px)"/>
    <link rel="stylesheet" href="/css/syntax.css" type="text/css"/>
    <link rel="stylesheet" href="/css/bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="/css/codeboy.css" type="text/css"/>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"/>
</head>
<body>
<div id="container">
    <div class="nav">
    <div class="nav_nav">
        <a href="/">首页</a>
        <a href="/categories.html">分类</a>
        <a href="/booklist.html">书单</a>
        <a href="/about.html">关于</a>
    </div>
</div>

    <div id="main">
        <h2> 通过tcpdump学习网络协议 </h2>
        <ul>
  <li><a href="#ip_header">ip packet heaer</a>
    <ul>
      <li><a href="#fragmentation">fragmentation</a></li>
    </ul>
  </li>
  <li><a href="#tcp_header">tcp segment header</a></li>
  <li><a href="#practice">practice</a></li>
  <li><a href="#ref">参考</a></li>
</ul>

<p>在网络osi的七层模型中,TCP位于第四层-Transport(传输)层,IP在第三层—Network层，ARP在第二层—Data Link层，
在第二层上的数据，我们叫<code class="highlighter-rouge">Frame</code>，在第三层上的数据叫<code class="highlighter-rouge">Packet&amp;datagram</code>，第四层的数据叫<code class="highlighter-rouge">Segment</code></p>

<p>关于这几个术语,<a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol#TCP_segment_structure">wikipedia是这么说的</a>:</p>

<p>The term TCP packet appears in both informal and formal usage, whereas in more precise terminology <strong><em>segment</em></strong> refers to the TCP protocol data unit (PDU), <strong><em>datagram</em></strong> [4] to the IP PDU, and <strong><em>frame</em></strong> to the data link layer PDU</p>

<p>大家意见是不统一的,我们这就frame,packet,segment来分别标识链路层,网络层和传输层</p>

<h3 id="ip_header">ip packet heaer</h3>

<p><img src="/images/network/ip_header.png" alt="IPv4 header" /></p>

<ol>
  <li><code class="highlighter-rouge">Version</code>:前四个字节为版本号: 0100  IPv4 , 0110 IPv6</li>
  <li><code class="highlighter-rouge">Internet Header Length</code>: IHL ,四个字节, 它是32bits字的数量(32 * IHL),最小为5(0101),最大为15(1111),所以ip头的长度[5*32=160bits=20bytes,15*32=480bits=60bytes]</li>
  <li><code class="highlighter-rouge">Differentiated Services Code Point &amp;&amp; Explicit Congestion Notification</code>:  DSCP &amp;&amp; ECN 包的优先级??</li>
  <li><code class="highlighter-rouge">Total Length</code>: 16bits ˚定义了packet的大小,包括头(header)和数据(data),以字节为单位,最小20个字节,最大65535字节</li>
  <li><code class="highlighter-rouge">Identification</code>: id标识</li>
  <li><code class="highlighter-rouge">Flags</code>: 第一位reserved,必须为0;第二位 DF(Don’t Fragment),DF位设为1时表明路由器不能对该上层数据包分段。
如果一个上层数据包无法在不分段的情况下进行转发，则路由器会丢弃该上层数据包并返回一个错误信息;
第三位 MF(More Fragments)当路由器对一个上层数据包分段，则路由器会在除了最后一个分段的IP包的包头中将MF位设为1。</li>
  <li><code class="highlighter-rouge">Fragment Offset</code>: 片偏移,长度13比特。表示该IP包在该组分片包中位置，接收端靠此来组装还原IP包.如果packet的大小大于MTU(maximum transmission unit 最大传输单元),就要进行<a href="#fragmentation">分片</a>.</li>
  <li><code class="highlighter-rouge">Time To Live</code>: TTL  长度8比特。当IP包进行传送时，先会对该字段赋予某个特定的值。当IP包经过每一个沿途的路由器的时候，每个沿途的路由器会将IP包的TTL值减少1。如果TTL减少为0，则该IP包会被丢弃,通常会给发送者发送一个ICMP超时消息。
这个字段可以防止由于路由环路而导致IP包在网络中不停被转发</li>
  <li><code class="highlighter-rouge">Protocol</code>: 协议 0x01 ICMP, 0x06 TCP, 0x11 UDP</li>
  <li><code class="highlighter-rouge">Header Checksum</code>: 16位,用来做IP头部的正确性检测，但不包含数据部分。因为每个路由器要改变TTL的值,所以路由器会为每个通过的数据包重新计算这个值。校验不通过,会丢到该包.</li>
  <li><code class="highlighter-rouge">Source address</code>: 32位,源ip</li>
  <li><code class="highlighter-rouge">Destination address</code>: 32位,目的ip</li>
  <li><code class="highlighter-rouge">Options</code>: 松散源路由(给出一连串路由器接口的IP地址,ip包必须沿着这些Ip地址传送,但允许在相继的两个IP地址之间跳过多个路由器);严格源路由;路由记录;时间戳</li>
  <li><code class="highlighter-rouge">Padding</code>: 补齐,ip header必须为32bits的倍数</li>
</ol>

<h4 id="fragmentation">分片</h4>

<p>网络协议使得网络可以相互的通信.这种设计为多种不同的物理设备提供了便利,它是独立于它所依赖的链路层
的.不同硬件的网络设备通常具备不同的传输速度,同时也往往有不同的最大传输单元.当一个网络向一个具备较小MTU的网络
传送数据报时,它可能需要对数据报进行分片.在IPv4中,这个功能被放在了网络层,有IPv4的路由器来实现.而在IPv6中,不允许路由器进行分片.主机在发送数据报之前必须能判定传输路径上的MTU.</p>

<p>当一个路由器接收到一个packet时,它检查目的地址,判定即将使用的接口和该接口的MTU.如果Packet的大小大于MTU,并且DF字段被设置为0,路由器就会将packet进行分片
路由器将packet分为多片,每片的大小最大为MTU - ip头的大小(20-60 bytes).每个fragment packet有以下变化:</p>

<ol>
  <li>total length是fragment的size</li>
  <li>MF 标志被设为1(除了最后一个fragment,它被设为0)</li>
  <li>fragment offset被设置,它是以8byte来度量的</li>
  <li>header checksum被重新计算</li>
</ol>

<p>eg: 如果MTU为1500 bytes,ip头大小为20,fragment的偏移将是(1500 - 20 ) / 8 = 185的倍数</p>

<p>如果一个传输层的segment的大小为4500bytes,ip头为20bytes,所以ip packet的大小为4500.当这个包经过一个MTU为2500的连接时,它会变成如下两片:</p>

<table>
  <thead>
    <tr>
      <th>Fragment</th>
      <th>Total bytes</th>
      <th>Header bytes</th>
      <th>Data bytes</th>
      <th>MF</th>
      <th>Fragment offset(8-byte blocks)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>2500</td>
      <td>20</td>
      <td>2480</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2040</td>
      <td>20</td>
      <td>2020</td>
      <td>0</td>
      <td>310</td>
    </tr>
  </tbody>
</table>

<h3 id="tcp_header">tcp segment header</h3>

<p><img src="/images/network/tcp_header.png" alt="tcp header" /></p>

<ol>
  <li><code class="highlighter-rouge">Source port</code>: 16位,源端口号</li>
  <li><code class="highlighter-rouge">Destination port</code>: 16位,目的端口号</li>
  <li><code class="highlighter-rouge">Sequence number</code>:32位 序列号</li>
  <li><code class="highlighter-rouge">Acknowledgment number</code>:  32位</li>
  <li><code class="highlighter-rouge">Data offset</code>: 4位TCP header的size(20-60)bytes</li>
  <li><code class="highlighter-rouge">Reserved</code>: 3位</li>
  <li><code class="highlighter-rouge">NS</code>: 1位</li>
  <li><code class="highlighter-rouge">CWR</code>: 1位</li>
  <li><code class="highlighter-rouge">ECE</code>: 1位</li>
  <li><code class="highlighter-rouge">URG</code>: 1位 表明Urgent pointer是有意义的</li>
  <li><code class="highlighter-rouge">ACK</code>: 1位 表明Acknowledgment 域是有意义的,在初始化的SYN包后的所有的包的这个位都应该被置为1</li>
  <li><code class="highlighter-rouge">PSH</code>: 1位 请求推送数据给接收的应用</li>
  <li><code class="highlighter-rouge">RST</code>: 1位 重置连接</li>
  <li><code class="highlighter-rouge">SYN</code>: 1位 同步序列号.仅当client和server两端第一次发送包时这个位被置为1</li>
  <li><code class="highlighter-rouge">FIN</code>: 1位 不再需要数据了</li>
  <li><code class="highlighter-rouge">Window size</code>: 16位 接收的窗口大小</li>
  <li><code class="highlighter-rouge">Checksum</code>: 16位 校验和</li>
  <li><code class="highlighter-rouge">Urgent pointer</code>:  16位 如果URG位被置为1,这表明上一个urgent数据byte相对于它的序列号的偏移</li>
  <li><code class="highlighter-rouge">Options</code>:</li>
  <li><code class="highlighter-rouge">Padding</code>: 补0,</li>
</ol>

<h3 id="practice">practice</h3>

<p>好了,有了上述基础,我们来实操下吧.
dump下线上一个包,<a href="/2015/03/20/network#tcpdump">tcpdump入门</a></p>

<div class="highlighter-rouge"><pre class="highlight"><code>[chuangjian.li@l-xxxx.f.cn1 ~]$ sudo tcpdump -nnvvX host  218.80.232.44 -c 3
tcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 65535 bytes
20:17:08.896034 IP (tos 0x28, ttl 49, id 16341, offset 0, flags [none], proto TCP (6), length 1400)
    218.80.232.44.80 &gt; 10.86.212.176.33314: Flags [.], cksum 0x195c (correct), seq 1024948164:1024949512, ack 2128146148, win 65535, options [nop,nop,TS val 2979322617 ecr 968275531], length 1348
    0x0000:  4528 0578 3fd5 0000 3106 a2ff da50 e82c  E(.x?...1....P.,
    0x0010:  0a56 d4b0 0050 8222 3d17 77c4 7ed8 eee4  .V...P."=.w.~...
    0x0020:  8010 ffff 195c 0000 0101 080a b194 daf9  .....\..........
    0x0030:  39b6 b64b 4854 5450 2f31 2e31 2032 3030  9..KHTTP/1.1.200
    0x0040:  204f 4b0d 0a44 6174 653a 204d 6f6e 2c20  .OK..Date:.Mon,.
    0x0050:  3039 204d 6179 2032 3031 3620 3132 3a31  09.May.2016.12:1
    0x0060:  343a 3339 2047 4d54 0d0a 5365 7276 6572  4:39.GMT..Server
    0x0070:  3a20 4170 6163 6865 0d0a 582d 4672 616d  :.Apache..X-Fram
    0x0080:  652d 4f70 7469 6f6e 733a 2053 414d 454f  e-Options:.SAMEO
    0x0090:  5249 4749 4e0d 0a56 6172 793a 2041 6363  RIGIN..Vary:.Acc
    0x00a0:  6570 742d 456e 636f 6469 6e67 0d0a 5472  ept-Encoding..Tr
    0x00b0:  616e 7366 6572 2d45 6e63 6f64 696e 673a  ansfer-Encoding:
    0x00c0:  2063 6875 6e6b 6564 0d0a 436f 6e74 656e  .chunked..Conten
    0x00d0:  742d 5479 7065 3a20 7465 7874 2f78 6d6c  t-Type:.text/xml
    0x00e0:  3b63 6861 7273 6574 3d55 5446 2d38 0d0a  ;charset=UTF-8..
    0x00f0:  436f 6e6e 6563 7469 6f6e 3a20 4b65 6570  Connection:.Keep
    0x0100:  2d41 6c69 7665 0d0a 0d0a 3166 6638 0d0a  -Alive....1ff8..
    ....
</code></pre>
</div>

<p>-nn 不解析域名和端口名 -vv 显示多的信息 -X 以ascii显示报文信息,不显示frame头,所以上述的就是一个ip packet.</p>

<p>一个字节一个字节来:
<strong><em>首先IP头</em></strong></p>

<p>4: Version IPv4 版本4</p>

<p>5: IHL 5 * 4 = 20 bytes ip头大小为20bytes</p>

<p>28: tos 为0x28 ,<code class="highlighter-rouge">tos</code></p>

<p>0578: 十进制1400 ip packet的长度为1400bytes,<code class="highlighter-rouge">length</code></p>

<p>3fd5: 十进制16341 <code class="highlighter-rouge">id</code></p>

<p>0(3bits): DF 与MF都为0 ,说明发生了发片,且不是最后一片</p>

<p>000(13bits): Fragment offset,片偏移为0,分片后的第一片</p>

<p>31: 十进制49 <code class="highlighter-rouge">ttl</code></p>

<p>06: 十进制6,对应tcp协议 <code class="highlighter-rouge">Protocol</code></p>

<p>a2ff: <code class="highlighter-rouge">Header Checksum</code></p>

<p>da50e82c: 0xda十进制218, 0x50十进制80,0xe8十进制232,0x2c十进制44 ,对应源ip218.80.232.44<code class="highlighter-rouge">Source address</code></p>

<p>0a56d4b0: 同上<code class="highlighter-rouge">Destination address</code></p>

<p><strong><em>刚好20个字节,接下来TCP头</em></strong></p>

<p>0050: 十进制80,源端口号<code class="highlighter-rouge">Source port</code></p>

<p>8222: 十进制33314,目的端口号<code class="highlighter-rouge">Destination port</code></p>

<p>3d17 77c4: 照不上</p>

<p>7ed8eee4:十进制2128146148,<code class="highlighter-rouge">Acknowledgment number</code></p>

<p>8: 8 * 4= 32 tcp header的大小为32<code class="highlighter-rouge">Data offset</code></p>

<p>0(3bits): 000<code class="highlighter-rouge">Reserved</code></p>

<p>010(9bits): 000010000 <code class="highlighter-rouge">ACK</code>为1 ??</p>

<p>ffff: 65535 窗口大小<code class="highlighter-rouge">Window size</code></p>

<p>195c: <code class="highlighter-rouge">Checksum</code></p>

<p>0000:<code class="highlighter-rouge">Urgent pointer</code></p>

<p>这才20bytes了,还有32-20 =12 bytes 待研究 <code class="highlighter-rouge">0101 080a b194 daf9 39b6 b64b</code></p>

<p><strong><em>再接下来就是HTTP报文了</em></strong></p>

<p>4854 5450 2f31 2e31 2032 3030 ….</p>

<h3 id="ref">参考</h3>

<p>[wiki百科ip]<a href="https://en.wikipedia.org/wiki/IPv4#Header">https://en.wikipedia.org/wiki/IPv4#Header</a></p>

<p>[wiki百科tcp]<a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol">https://en.wikipedia.org/wiki/Transmission_Control_Protocol</a></p>

<p>[Packet Fragmentation]<a href="http://www.tech-faq.com/packet-fragmentation.html">http://www.tech-faq.com/packet-fragmentation.html</a></p>

<p>[DSCP]<a href="https://en.wikipedia.org/wiki/Differentiated_services">https://en.wikipedia.org/wiki/Differentiated_services</a></p>

<p>[TOS]<a href="https://en.wikipedia.org/wiki/Type_of_service">https://en.wikipedia.org/wiki/Type_of_service</a></p>

<p>[wiki校验和]<a href="https://en.wikipedia.org/wiki/IPv4_header_checksum">https://en.wikipedia.org/wiki/IPv4_header_checksum</a></p>

<p>[IP头结构详解]<a href="http://blog.csdn.net/achejq/article/details/7040687">http://blog.csdn.net/achejq/article/details/7040687</a></p>

<p>[tcp的那些事儿[上]]<a href="http://coolshell.cn/articles/11564.html">http://coolshell.cn/articles/11564.html</a></p>

<p>[tcp的那些事儿[下]]<a href="http://coolshell.cn/articles/11609.html">http://coolshell.cn/articles/11609.html</a></p>


        <ul class="prev_next">
            
            <li>
                <span>上一篇</span>
                <a href="/2016/04/30/leetcode_bash">leetcode的脚本全解</a>
            </li>
            
            
            <li>
                <span>下一篇</span>
                <a href="/2016/06/04/how_to_study">有效的学习</a>
            </li>
            
        </ul>
        <div class="ds-share flat" data-thread-key="/2016/05/07/tcpdump_tcp" data-title="通过tcpdump学习网络协议"
             data-url="http://lcj1992.github.io/2016/05/07/tcpdump_tcp">
            <div class="ds-share-inline">
                <ul class="ds-share-icons-16">

                    <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
                    <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
                    <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

                </ul>
                <div class="ds-share-icons-more">
                </div>
            </div>
        </div>
        <div class="ds-thread" data-thread-key="/2016/05/07/tcpdump_tcp" data-title="通过tcpdump学习网络协议"
             data-url="http://lcj1992.github.io/2016/05/07/tcpdump_tcp"></div>
        <!-- 多说评论框 end -->
        <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
        <script type="text/javascript">
            var duoshuoQuery = {short_name: "lcj1992"};
            (function () {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';
                ds.async = true;
                ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0]
                || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        </script>

        <!-- jQuery -->
        <script src="/js/jquery.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="/js/bootstrap.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="/js/codeboy.js"></script>

        <script src="/js/bootstrap3-typeahead.js"></script>
        <script src="/js/jquery.hotkeys.js"></script>
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-72949519-1', 'auto');
            ga('send', 'pageview');

        </script>

        <!-- TODO: only load in tag.html -->
        <script src="/js/jquery.tagcloud.js" type="text/javascript" charset="utf-8"></script>
        <script language="javascript">
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'}
            };
            $(function () {
                $('#tag_cloud a').tagcloud();
            });
        </script>

        <!-- async load function -->
        <script>
            function async(u, c) {
                var d = document, t = 'script',
                        o = d.createElement(t),
                        s = d.getElementsByTagName(t)[0];
                o.src = u;
                if (c) {
                    o.addEventListener('load', function (e) {
                        c(null, e);
                    }, false);
                }
                s.parentNode.insertBefore(o, s);
            }
        </script>

        <!-- Highlight.js -->
        <script>
            async("https://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function () {
                hljs.initHighlightingOnLoad();
            })
        </script>
        <link href="https://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">


        <script>
            $(document).ready(function () {
                var time1 = 0;
                var show = false;
                var names = new Array(); //文章名字等
                var urls = new Array(); //文章地址
                $(document).keyup(function (e) {
                    var time2 = new Date().getTime();
                    if (e.keyCode == 17) {
                        var gap = time2 - time1;
                        time1 = time2;
                        if (gap < 500) {
                            if (show) {
                                $(".search-tool").css("display", "none");
                                show = false;
                            } else {
                                $(".search-tool").css("display", "block");
                                show = true;
                                $("#search-content").val("");
                                $("#search-content").focus();
                            }
                            time1 = 0;
                        }
                    } else if (e.keyCode == 27) {
                        $(".search-tool").css("display", "none");
                        show = false;
                        time1 = 0;
                    }
                });

                $("#search-content").keyup(function (e) {
                    var time2 = new Date().getTime();
                    if (window.event.keyCode == 17) {
                        var gap = time2 - time1;
                        time1 = time2;
                        if (gap < 500) {
                            if (show) {
                                $(".search-tool").css("display", "none");
                                show = false;
                            } else {
                                $(".search-tool").css("display", "block");
                                show = true;
                                $("#search-content").val("");
                                $("#search-content").focus();
                            }
                            time1 = 0;
                        }
                    }
                });

                $("#close-btn").click(function () {
                    $(".search-tool").css("display", "none");
                    show = false;
                    time1 = 0;
                });

                $("#search-btn").click(function () {
                    $(".search-tool").css("display", "block");
                    show = true;
                    $("#search-content").val("");
                    $("#search-content").focus();
                    time1 = 0;
                });
                // 家目录快捷键
                $(document).bind('keydown', 'alt+h', function () {
                    window.location.href = "/";
                });
                // 目录快捷键
                $(document).bind('keydown', 'alt+c', function () {
                    window.location.href = "/categories.html";
                });
                // 书单快捷键
                $(document).bind('keydown', 'alt+b', function () {
                    window.location.href = "/booklist.html";
                });
                // 个人介绍页快捷键
                $(document).bind('keydown', 'alt+a', function () {
                    window.location.href = "/about.html";
                });
                // 上一篇
                $(document).bind('keydown', 'alt+p', function () {
                    window.location.href = "/2016/04/30/leetcode_bash";
                });
                // 下一篇
                $(document).bind('keydown', 'alt+n', function () {
                    window.location.href = "/2016/06/04/how_to_study";
                });

                $.getJSON("/search.json").done(function (data) {
                    if (data.code == 0) {
                        for (var index in data.data) {
                            var item = data.data[index];
                            names.push(item.title);
                            urls.push(item.url);
                        }

                        $("#search-content").typeahead({
                            source: names,

                            afterSelect: function (item) {
                                $(".search-tool").css("display", "none");
                                show = false;
                                window.location.href = (urls[names.indexOf(item)]);
                                return item;
                            }
                        });
                    }
                });

            });
        </script>

        <style>
            @media screen and (min-width: 768px) {
                .dropdown-menu {
                    float: none;
                    font-size: 20px;
                    width: 70%;
                    margin: 0 15%;
                }

                .search-tool ul {
                    width: 70%;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }

                .search-content {
                    width: 70%;
                    margin: 0 15%;
                    position: absolute;
                    top: 13%;
                    left: auto;
                    right: auto;
                    font-size: 22px;
                    height: 50px;
                    background-color: #eee;
                    color: black;
                    opacity: 1.0;
                }
            }

            @media screen and (max-width: 767px) {
                .dropdown-menu {
                    float: none;
                    font-size: 20px;
                    width: 96%;
                    margin: 0 2%;
                }

                .search-tool ul {
                    width: 96%;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }

                .search-content {
                    width: 96%;
                    margin: 0 2%;
                    position: absolute;
                    top: 10%;
                    left: auto;
                    right: auto;
                    font-size: 22px;
                    height: 50px;
                    background-color: #eee;
                    color: black;
                    opacity: 1.0;
                }
            }
        </style>
        <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right:  0px;
      opacity: 0.95; background-color: #111111; z-index: 9999; display: none;">
            <input type="text" class="form-control search-content" id="search-content" placeholder="文章标题 日期 标签">

            <div style="position: fixed; top: 16px; right: 16px;">
                <img src="/images/search/close.png" id="close-btn"/>
            </div>
        </div>

        <div style="position: fixed; right: 12px; top: 50%;bottom: 50%;">
            <img src="/images/search/search.png" id="search-btn" title="双击ctrl试一下"/>
        </div>

    </div>
</div>
</body>
</html>

